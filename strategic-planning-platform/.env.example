# Strategic Planning Platform - Environment Configuration Template
# Copy this file to .env and update values for your environment

#============================================================================
# APPLICATION SETTINGS
#============================================================================
NODE_ENV=development
FASTAPI_ENV=development
APP_NAME=Strategic Planning Platform
APP_VERSION=1.0.0
APP_DEBUG=true

# Server Configuration
FRONTEND_PORT=3000
BACKEND_PORT=8000
WEBSOCKET_PORT=8001

# URLs
FRONTEND_URL=http://localhost:3000
BACKEND_URL=http://localhost:8000
API_BASE_URL=http://localhost:8000
WEBSOCKET_URL=ws://localhost:8001

#============================================================================
# DATABASE CONFIGURATION
#============================================================================

# PostgreSQL (User/Auth Database)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=strategic_planning
POSTGRES_USER=strategic_user
POSTGRES_PASSWORD=your_secure_postgres_password_here
POSTGRES_URL=postgresql://strategic_user:your_secure_postgres_password_here@localhost:5432/strategic_planning
POSTGRES_SSL_MODE=prefer

# Redis (Sessions and Caching)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_secure_redis_password_here
REDIS_URL=redis://:your_secure_redis_password_here@localhost:6379/0
REDIS_TTL=3600
REDIS_MAX_CONNECTIONS=100

# Neo4j (Graph Database)
NEO4J_URI=bolt://localhost:7687
NEO4J_USERNAME=neo4j
NEO4J_PASSWORD=your_secure_neo4j_password_here
NEO4J_DATABASE=neo4j
NEO4J_MAX_CONNECTION_LIFETIME=3600
NEO4J_MAX_CONNECTION_POOL_SIZE=50
NEO4J_CONNECTION_TIMEOUT=30000
NEO4J_ENCRYPTED=false

#============================================================================
# AUTHENTICATION & SECURITY
#============================================================================

# JWT Configuration
JWT_SECRET=your_super_secret_jwt_key_at_least_32_chars_long_for_security
JWT_REFRESH_SECRET=your_super_secret_refresh_key_different_from_jwt_secret
JWT_ALGORITHM=HS256
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d
JWT_ISSUER=strategic-planning-platform
JWT_AUDIENCE=strategic-planning-users

# Session Configuration
SESSION_SECRET=your_super_secret_session_key_for_cookies_and_sessions
SESSION_MAX_AGE=86400
SESSION_SECURE=false
SESSION_SAME_SITE=lax
SESSION_HTTP_ONLY=true

# Password Security
PASSWORD_MIN_LENGTH=12
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SPECIAL_CHARS=true
PASSWORD_SALT_ROUNDS=12

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL=false

# CORS Configuration
CORS_ORIGIN=http://localhost:3000,http://localhost:8080
CORS_CREDENTIALS=true
CORS_METHODS=GET,POST,PUT,PATCH,DELETE,OPTIONS
CORS_HEADERS=Content-Type,Authorization,X-Requested-With,Accept

#============================================================================
# GRAPHRAG INTEGRATION
#============================================================================

# GraphRAG Service Configuration
GRAPHRAG_ENDPOINT=http://localhost:8002
GRAPHRAG_API_KEY=your_graphrag_api_key_here
GRAPHRAG_TIMEOUT=30000
GRAPHRAG_MAX_RETRIES=3
GRAPHRAG_CONFIDENCE_THRESHOLD=0.8
GRAPHRAG_ENABLE_CACHING=true
GRAPHRAG_CACHE_TTL=3600

# Vector Search Configuration
VECTOR_INDEX_NAME=requirements_index
EMBEDDING_DIMENSIONS=1536
EMBEDDING_MODEL=text-embedding-3-large
SIMILARITY_METRIC=cosine
SIMILARITY_THRESHOLD=0.7

# Knowledge Graph Settings
KG_COMMUNITY_DETECTION_ALGORITHM=louvain
KG_COMMUNITY_RESOLUTION=1.0
KG_MAX_COMMUNITIES=100
KG_MIN_COMMUNITY_SIZE=3

# Validation Weights
VALIDATION_WEIGHT_ENTITY=0.5
VALIDATION_WEIGHT_COMMUNITY=0.3
VALIDATION_WEIGHT_GLOBAL=0.2
VALIDATION_MIN_CONFIDENCE=0.8

#============================================================================
# LLM INTEGRATION
#============================================================================

# OpenRouter (Primary LLM Provider)
OPENROUTER_API_KEY=your_openrouter_api_key_here
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1
OPENROUTER_DEFAULT_MODEL=anthropic/claude-3-opus
OPENROUTER_MAX_TOKENS=4000
OPENROUTER_TEMPERATURE=0.1

# OpenAI (Fallback Provider)
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_DEFAULT_MODEL=gpt-4-turbo-preview
OPENAI_MAX_TOKENS=4000
OPENAI_TEMPERATURE=0.1

# Anthropic (Fallback Provider)
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_DEFAULT_MODEL=claude-3-opus-20240229
ANTHROPIC_MAX_TOKENS=4000
ANTHROPIC_TEMPERATURE=0.1

# Google (Fallback Provider)
GOOGLE_API_KEY=your_google_api_key_here
GOOGLE_DEFAULT_MODEL=gemini-pro
GOOGLE_MAX_TOKENS=4000
GOOGLE_TEMPERATURE=0.1

# LLM Configuration
LLM_PRIMARY_PROVIDER=openrouter
LLM_FALLBACK_PROVIDERS=openai,anthropic,google
LLM_REQUEST_TIMEOUT=60000
LLM_MAX_RETRIES=3
LLM_RETRY_DELAY=1000

#============================================================================
# EMAIL SERVICE
#============================================================================

# SMTP Configuration
SMTP_ENABLED=true
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USE_TLS=true
SMTP_USE_SSL=false
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_specific_password
SMTP_FROM_EMAIL=noreply@strategic-planning.com
SMTP_FROM_NAME=Strategic Planning Platform
SMTP_REPLY_TO=support@strategic-planning.com

# Email Templates
EMAIL_TEMPLATE_WELCOME=welcome.html
EMAIL_TEMPLATE_PASSWORD_RESET=password-reset.html
EMAIL_TEMPLATE_PRD_COMPLETED=prd-completed.html
EMAIL_TEMPLATE_NOTIFICATION=notification.html

# Email Settings
EMAIL_QUEUE_ENABLED=true
EMAIL_QUEUE_MAX_RETRIES=3
EMAIL_QUEUE_RETRY_DELAY=300000

#============================================================================
# FILE STORAGE
#============================================================================

# Storage Provider (local, s3, gcs)
STORAGE_PROVIDER=local
STORAGE_BASE_PATH=./uploads
STORAGE_MAX_FILE_SIZE=10485760
STORAGE_ALLOWED_MIME_TYPES=application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,text/plain,text/markdown,image/jpeg,image/png,image/gif

# AWS S3 Configuration (if using S3)
S3_BUCKET=strategic-planning-uploads
S3_REGION=us-east-1
S3_ACCESS_KEY=your_aws_access_key_here
S3_SECRET_KEY=your_aws_secret_key_here
S3_ENDPOINT=https://s3.amazonaws.com
S3_USE_SSL=true
S3_PRESIGNED_URL_EXPIRY=3600

# Google Cloud Storage (if using GCS)
GCS_BUCKET=strategic-planning-uploads
GCS_PROJECT_ID=your_gcp_project_id
GCS_KEY_FILE=path/to/service-account.json

#============================================================================
# WEBSOCKET CONFIGURATION
#============================================================================

# WebSocket Settings
ENABLE_WEBSOCKETS=true
WEBSOCKET_MAX_CONNECTIONS=1000
WEBSOCKET_CONNECTION_TIMEOUT=30000
WEBSOCKET_HEARTBEAT_INTERVAL=30000
WEBSOCKET_RECONNECT_ATTEMPTS=5
WEBSOCKET_RECONNECT_DELAY=5000

# Real-time Collaboration
ENABLE_REAL_TIME_COLLABORATION=true
COLLABORATION_MAX_USERS_PER_ROOM=10
COLLABORATION_TYPING_TIMEOUT=3000
COLLABORATION_CURSOR_UPDATE_THROTTLE=100

#============================================================================
# MONITORING & OBSERVABILITY
#============================================================================

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_OUTPUT=console
LOG_FILE_PATH=./logs/app.log
LOG_MAX_FILE_SIZE=10MB
LOG_MAX_FILES=5
LOG_COMPRESS=true

# Sentry (Error Tracking)
SENTRY_DSN=your_sentry_dsn_here
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_PROFILES_SAMPLE_RATE=0.1
SENTRY_ENABLED=false

# Logfire (Observability)
LOGFIRE_TOKEN=your_logfire_token_here
LOGFIRE_PROJECT=strategic-planning-platform
LOGFIRE_ENABLED=false

# New Relic (APM)
NEW_RELIC_LICENSE_KEY=your_newrelic_license_key_here
NEW_RELIC_APP_NAME=Strategic Planning Platform
NEW_RELIC_ENABLED=false

# Prometheus Metrics
METRICS_ENABLED=true
METRICS_PORT=9090
METRICS_PATH=/metrics
METRICS_COLLECT_DEFAULT=true

# Health Check
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health
HEALTH_CHECK_DATABASE=true
HEALTH_CHECK_REDIS=true
HEALTH_CHECK_EXTERNAL_SERVICES=true

#============================================================================
# FEATURE FLAGS
#============================================================================

# Core Features
ENABLE_USER_REGISTRATION=true
ENABLE_EMAIL_VERIFICATION=true
ENABLE_PASSWORD_RESET=true
ENABLE_TWO_FACTOR_AUTH=false

# PRD Features
ENABLE_GRAPHRAG_VALIDATION=true
ENABLE_AI_SUGGESTIONS=true
ENABLE_AUTO_SAVE=true
ENABLE_VERSION_HISTORY=true
ENABLE_COLLABORATION=true
ENABLE_COMMENTS=true

# Advanced Features
ENABLE_ANALYTICS=true
ENABLE_AUDIT_LOG=true
ENABLE_BULK_OPERATIONS=true
ENABLE_WEBHOOKS=false
ENABLE_API_VERSIONING=true
ENABLE_RATE_LIMITING=true

# Experimental Features
ENABLE_EXPERIMENTAL_FEATURES=false
ENABLE_BETA_FEATURES=false
ENABLE_DEBUG_MODE=true

#============================================================================
# PERFORMANCE OPTIMIZATION
#============================================================================

# Caching Configuration
CACHE_ENABLED=true
CACHE_DEFAULT_TTL=3600
CACHE_MAX_SIZE=1000
CACHE_COMPRESSION=true

# Database Connection Pooling
DB_POOL_SIZE=20
DB_POOL_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# Request Limits
REQUEST_MAX_SIZE=10MB
REQUEST_TIMEOUT=30000
CONCURRENT_REQUESTS_LIMIT=100

# Background Tasks
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2
CELERY_MAX_RETRIES=3
CELERY_RETRY_DELAY=60

#============================================================================
# DEVELOPMENT & TESTING
#============================================================================

# Development Settings
DEV_RELOAD=true
DEV_CORS_ALLOW_ALL=true
DEV_SKIP_AUTH=false
DEV_MOCK_EXTERNAL_SERVICES=false
DEV_SEED_DATA=true

# Testing Configuration
TEST_DATABASE_URL=postgresql://test_user:test_pass@localhost:5432/test_strategic_planning
TEST_REDIS_URL=redis://localhost:6379/15
TEST_SKIP_AUTH=true
TEST_MOCK_LLM=true
TEST_MOCK_EMAIL=true

# Docker Compose Profiles
COMPOSE_PROFILES=monitoring,logging

#============================================================================
# PRODUCTION DEPLOYMENT
#============================================================================

# Production Security
PRODUCTION_SECRET_KEY=your_production_secret_key_here_must_be_very_secure
PRODUCTION_ALLOWED_HOSTS=strategic-planning.com,www.strategic-planning.com
PRODUCTION_TRUSTED_PROXIES=10.0.0.0/8,172.16.0.0/12,192.168.0.0/16

# SSL Configuration
SSL_ENABLED=false
SSL_CERT_PATH=/etc/ssl/certs/strategic-planning.crt
SSL_KEY_PATH=/etc/ssl/private/strategic-planning.key
SSL_VERIFY_MODE=optional

# Load Balancing
LOAD_BALANCER_HEALTH_CHECK_PATH=/health
LOAD_BALANCER_TIMEOUT=30
WORKER_PROCESSES=4
WORKER_CONNECTIONS=1000

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=strategic-planning-backups
BACKUP_ENCRYPTION_KEY=your_backup_encryption_key_here

#============================================================================
# THIRD-PARTY INTEGRATIONS
#============================================================================

# GitHub Integration (for project management)
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret
GITHUB_WEBHOOK_SECRET=your_github_webhook_secret

# Slack Integration (for notifications)
SLACK_BOT_TOKEN=your_slack_bot_token
SLACK_WEBHOOK_URL=your_slack_webhook_url
SLACK_CHANNEL_NOTIFICATIONS=#strategic-planning

# Microsoft Teams Integration
TEAMS_WEBHOOK_URL=your_teams_webhook_url

# Analytics
GOOGLE_ANALYTICS_ID=UA-XXXXXXX-X
MIXPANEL_TOKEN=your_mixpanel_token

#============================================================================
# COMPLIANCE & GOVERNANCE
#============================================================================

# Data Retention
DATA_RETENTION_ENABLED=true
DATA_RETENTION_DAYS=2555  # 7 years
AUDIT_LOG_RETENTION_DAYS=2555
GDPR_COMPLIANCE_ENABLED=true

# Security Headers
SECURITY_HEADERS_ENABLED=true
CSP_ENABLED=true
HSTS_ENABLED=true
HSTS_MAX_AGE=31536000

# Privacy Settings
PRIVACY_POLICY_URL=https://strategic-planning.com/privacy
TERMS_OF_SERVICE_URL=https://strategic-planning.com/terms
COOKIE_CONSENT_REQUIRED=true